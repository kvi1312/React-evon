{"ast":null,"code":"var _jsxFileName = \"D:\\\\React-evon\\\\my-app\\\\src\\\\context\\\\galleryContext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { createContext, useContext, useState } from \"react\";\nimport useLocalStorage from \"../hooks/useLocalStorage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GalleryContext = /*#__PURE__*/createContext();\nconst fakeData = [{\n  id: 1,\n  url: \"https://images.unsplash.com/photo-1652541594278-d7dbc83be9d6?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=60&raw_url=true&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwzfHx8ZW58MHx8fHw%3D&auto=format&fit=crop&w=400\",\n  isFavorite: false\n}, {\n  id: 2,\n  url: \"https://images.unsplash.com/photo-1652717730391-80e9ef30e71f?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=60&raw_url=true&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHw1fHx8ZW58MHx8fHw%3D&auto=format&fit=crop&w=400\",\n  isFavorite: false\n}, {\n  id: 3,\n  url: \"https://images.unsplash.com/photo-1652876343954-2dbf517cfa4e?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=60&raw_url=true&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHw3fHx8ZW58MHx8fHw%3D&auto=format&fit=crop&w=400\",\n  isFavorite: false\n}, {\n  id: 4,\n  url: \"https://images.unsplash.com/photo-1652821957707-ae78781ec5bf?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=60&raw_url=true&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxN3x8fGVufDB8fHx8&auto=format&fit=crop&w=400\",\n  isFavorite: false\n}];\n\nfunction GalleryProvider(props) {\n  _s();\n\n  const [storedValue, setValue] = useLocalStorage(\"photo\", fakeData);\n  const [photo, setPhoto] = useState(storedValue);\n  const [favoriteList, setFavoriteList] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n\n  function toggleFavorite(photoId) {\n    const updatedArray = photo.map(photo => {\n      if (photo.id === photoId) {\n        return { ...photo,\n          isFavorite: !photo.isFavorite\n        };\n      }\n\n      return photo;\n    });\n    setPhoto(updatedArray);\n    setValue(updatedArray);\n  } //viet fnc addToCart\n  //fn addToCart truyen parm la photo\n  // cap nhat lai state gio hang cartItems\n\n\n  function addToCart(newItem) {\n    //// dÃ¹ng callback Ä‘á»ƒ láº¥y nhá»¯ng giÃ¡ trá»‹ cÅ© rá»“i dÃ¹ng spread operator Ä‘á»ƒ Ä‘Æ°a nÃ³ vÃ o danh sÃ¡ch cart cÃ¹ng vá»›i item má»›i\n    setCartItems(previousItem => {\n      const isExist = previousItem.some(item => item.id === newItem.id); // some kiá»ƒm tra tráº£ ra boolean\n\n      console.log(\"ðŸš€ ~ setCartItems ~ isExist\", isExist);\n      if (isExist) return [...previousItem];\n      return [...previousItem, newItem];\n    });\n  }\n\n  function removeFromCart(photoId) {\n    setCartItems(previousItem => previousItem.filter(item => item.id !== photoId));\n  }\n\n  const value = {\n    photo,\n    cartItems,\n    favoriteList,\n    setPhoto,\n    setFavoriteList,\n    setCartItems,\n    toggleFavorite,\n    addToCart,\n    removeFromCart\n  };\n  return /*#__PURE__*/_jsxDEV(GalleryContext.Provider, {\n    value: value,\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n\n_s(GalleryProvider, \"AhmCG2INndg/0E2WFmKGwxtgNrg=\", false, function () {\n  return [useLocalStorage];\n});\n\n_c = GalleryProvider;\n\nfunction useGallery() {\n  _s2();\n\n  const context = useContext(GalleryContext);\n\n  if (typeof context === \"undefined\") {\n    throw new Error(\"useGallery must be used within GalleryProvider\");\n  }\n\n  return context;\n}\n\n_s2(useGallery, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n\nexport { useGallery, GalleryProvider };\n\nvar _c;\n\n$RefreshReg$(_c, \"GalleryProvider\");","map":{"version":3,"sources":["D:/React-evon/my-app/src/context/galleryContext.js"],"names":["React","createContext","useContext","useState","useLocalStorage","GalleryContext","fakeData","id","url","isFavorite","GalleryProvider","props","storedValue","setValue","photo","setPhoto","favoriteList","setFavoriteList","cartItems","setCartItems","toggleFavorite","photoId","updatedArray","map","addToCart","newItem","previousItem","isExist","some","item","console","log","removeFromCart","filter","value","useGallery","context","Error"],"mappings":"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","sourcesContent":["import React, { createContext, useContext, useState } from \"react\";\r\nimport useLocalStorage from \"../hooks/useLocalStorage\";\r\n\r\nconst GalleryContext = createContext();\r\nconst fakeData = [\r\n  {\r\n    id: 1,\r\n    url: \"https://images.unsplash.com/photo-1652541594278-d7dbc83be9d6?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=60&raw_url=true&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwzfHx8ZW58MHx8fHw%3D&auto=format&fit=crop&w=400\",\r\n    isFavorite: false,\r\n  },\r\n  {\r\n    id: 2,\r\n    url: \"https://images.unsplash.com/photo-1652717730391-80e9ef30e71f?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=60&raw_url=true&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHw1fHx8ZW58MHx8fHw%3D&auto=format&fit=crop&w=400\",\r\n    isFavorite: false,\r\n  },\r\n  {\r\n    id: 3,\r\n    url: \"https://images.unsplash.com/photo-1652876343954-2dbf517cfa4e?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=60&raw_url=true&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHw3fHx8ZW58MHx8fHw%3D&auto=format&fit=crop&w=400\",\r\n    isFavorite: false,\r\n  },\r\n  {\r\n    id: 4,\r\n    url: \"https://images.unsplash.com/photo-1652821957707-ae78781ec5bf?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=60&raw_url=true&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxN3x8fGVufDB8fHx8&auto=format&fit=crop&w=400\",\r\n    isFavorite: false,\r\n  },\r\n];\r\n\r\nfunction GalleryProvider(props) {\r\n  const [storedValue, setValue] = useLocalStorage(\"photo\", fakeData);\r\n\r\n  const [photo, setPhoto] = useState(storedValue);\r\n  const [favoriteList, setFavoriteList] = useState([]);\r\n  const [cartItems, setCartItems] = useState([]);\r\n\r\n  function toggleFavorite(photoId) {\r\n    const updatedArray = photo.map((photo) => {\r\n      if (photo.id === photoId) {\r\n        return { ...photo, isFavorite: !photo.isFavorite };\r\n      }\r\n      return photo;\r\n    });\r\n    setPhoto(updatedArray);\r\n    setValue(updatedArray);\r\n  }\r\n\r\n  //viet fnc addToCart\r\n  //fn addToCart truyen parm la photo\r\n  // cap nhat lai state gio hang cartItems\r\n  function addToCart(newItem) {\r\n    //// dÃ¹ng callback Ä‘á»ƒ láº¥y nhá»¯ng giÃ¡ trá»‹ cÅ© rá»“i dÃ¹ng spread operator Ä‘á»ƒ Ä‘Æ°a nÃ³ vÃ o danh sÃ¡ch cart cÃ¹ng vá»›i item má»›i\r\n    setCartItems((previousItem) => {\r\n      const isExist = previousItem.some((item) => item.id === newItem.id); // some kiá»ƒm tra tráº£ ra boolean\r\n      console.log(\"ðŸš€ ~ setCartItems ~ isExist\", isExist);\r\n      if (isExist) return [...previousItem];\r\n      return [...previousItem, newItem];\r\n    });\r\n  }\r\n\r\n  function removeFromCart(photoId) {\r\n    setCartItems((previousItem) =>\r\n      previousItem.filter((item) => item.id !== photoId)\r\n    );\r\n  }\r\n  const value = {\r\n    photo,\r\n    cartItems,\r\n    favoriteList,\r\n    setPhoto,\r\n    setFavoriteList,\r\n    setCartItems,\r\n    toggleFavorite,\r\n    addToCart,\r\n    removeFromCart,\r\n  };\r\n\r\n  return (\r\n    <GalleryContext.Provider value={value} {...props}></GalleryContext.Provider>\r\n  );\r\n}\r\n\r\nfunction useGallery() {\r\n  const context = useContext(GalleryContext);\r\n  if (typeof context === \"undefined\") {\r\n    throw new Error(\"useGallery must be used within GalleryProvider\");\r\n  }\r\n  return context;\r\n}\r\n\r\nexport { useGallery, GalleryProvider };\r\n"]},"metadata":{},"sourceType":"module"}